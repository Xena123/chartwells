if ($("#modal-food1, #modal-food2, #modal-food3, #modal-food4, #modal-food5, #modal-food6").length) {
    $("#modal-food1, #modal-food2, #modal-food3, #modal-food4, #modal-food5, #modal-food6").iziModal({
        top: 175,
        headerColor: "",
        background: "",
        width: 1e3,
        bottom: 100,
        icon: "icon-settings_system_daydream",
        overlayClose: true,
        iframe: false,
        fullscreen: true,
        closeButton: true,
        zindex: 999,
        openFullscreen: false,
        borderBottom: false,
        group: "smartfood",
        onFullscreen: function(modal) {
            console.log(modal.isFullscreen);
        }
    });
    $(document).on("click", ".trigger-iframe", function(event) {
        event.preventDefault();
        $("#modal-food1, #modal-food2, #modal-food3, #modal-food4, #modal-food5, #modal-food6").iziModal("open", event);
    });
}

if ($("#modal-event1, #modal-event2, #modal-event3").length) {
    $("#modal-event1, #modal-event2, #modal-event3").iziModal({
        top: 175,
        headerColor: "",
        background: "",
        width: 1e3,
        bottom: 100,
        icon: "icon-settings_system_daydream",
        overlayClose: true,
        iframe: false,
        fullscreen: true,
        closeButton: true,
        zindex: 999,
        openFullscreen: false,
        borderBottom: false,
        group: "smartevent",
        onFullscreen: function(modal) {
            console.log(modal.isFullscreen);
        }
    });
    $(document).on("click", ".trigger-iframe", function(event) {
        event.preventDefault();
        $("#modal-event1, #modal-event2, #modal-event3").iziModal("open", event);
    });
}

if ($("#modal-service1, #modal-service2, #modal-service3, #modal-service4, #modal-service5").length) {
    $("#modal-service1, #modal-service2, #modal-service3, #modal-service4, #modal-service5").iziModal({
        top: 175,
        headerColor: "",
        background: "",
        width: 1e3,
        bottom: 100,
        icon: "icon-settings_system_daydream",
        overlayClose: true,
        iframe: false,
        fullscreen: true,
        closeButton: true,
        zindex: 999,
        openFullscreen: false,
        borderBottom: false,
        group: "service",
        onFullscreen: function(modal) {
            console.log(modal.isFullscreen);
        }
    });
    $(document).on("click", ".trigger-iframe", function(event) {
        event.preventDefault();
        $("#modal-service1, #modal-service2, #modal-service3, #modal-service4, #modal-service5").iziModal("open", event);
    });
}

if ($("#modal-prep1, #modal-prep2, #modal-prep3").length) {
    $("#modal-prep1, #modal-prep2, #modal-prep3").iziModal({
        top: 175,
        headerColor: "",
        background: "",
        width: 1e3,
        bottom: 100,
        icon: "icon-settings_system_daydream",
        overlayClose: true,
        iframe: false,
        fullscreen: true,
        closeButton: true,
        zindex: 999,
        openFullscreen: false,
        borderBottom: false,
        group: "prep",
        onFullscreen: function(modal) {
            console.log(modal.isFullscreen);
        }
    });
    $(document).on("click", ".trigger-iframe", function(event) {
        event.preventDefault();
        $("#modal-prep1, #modal-prep2, #modal-prep3").iziModal("open", event);
    });
}

if ($("#modal-senior1, #modal-senior2, #modal-senior3").length) {
    $("#modal-senior1, #modal-senior2, #modal-senior3").iziModal({
        top: 175,
        headerColor: "",
        background: "",
        width: 1e3,
        bottom: 100,
        icon: "icon-settings_system_daydream",
        overlayClose: true,
        iframe: false,
        fullscreen: true,
        closeButton: true,
        zindex: 999,
        openFullscreen: false,
        borderBottom: false,
        group: "senior",
        onFullscreen: function(modal) {
            console.log(modal.isFullscreen);
        }
    });
    $(document).on("click", ".trigger-iframe", function(event) {
        event.preventDefault();
        $("#modal-senior1, #modal-senior2, #modal-senior3").iziModal("open", event);
    });
}

if ($("#modal-boarding1, #modal-boarding2, #modal-boarding3, #modal-boarding4").length) {
    $("#modal-boarding1, #modal-boarding2, #modal-boarding3, #modal-boarding4").iziModal({
        top: 175,
        headerColor: "",
        background: "",
        width: 1e3,
        bottom: 100,
        icon: "icon-settings_system_daydream",
        overlayClose: true,
        iframe: false,
        fullscreen: true,
        closeButton: true,
        zindex: 999,
        openFullscreen: false,
        borderBottom: false,
        group: "boarding",
        onFullscreen: function(modal) {
            console.log(modal.isFullscreen);
        }
    });
    $(document).on("click", ".trigger-iframe", function(event) {
        event.preventDefault();
        $("#modal-boarding1, #modal-boarding2, #modal-boarding3, #modal-boarding4").iziModal("open", event);
    });
}

if ($("#modal-team1, #modal-team2, #modal-team3").length) {
    $("#modal-team1, #modal-team2, #modal-team3").iziModal({
        top: 175,
        headerColor: "",
        background: "",
        width: 1e3,
        bottom: 100,
        icon: "icon-settings_system_daydream",
        overlayClose: true,
        iframe: false,
        fullscreen: true,
        closeButton: true,
        zindex: 999,
        openFullscreen: false,
        borderBottom: false,
        group: "team",
        onFullscreen: function(modal) {
            console.log(modal.isFullscreen);
        }
    });
    $(document).on("click", ".trigger-iframe", function(event) {
        event.preventDefault();
        $("#modal-team1, #modal-team2, #modal-team3").iziModal("open", event);
    });
}

(function($) {
    "use strict";
    var completedVisible = 0;
    var bodyClass = $("body").attr("class");
    var wrapper = $(".wrapper");
    var carouselItem = $(".carousel-item");
    var scrollButtonsContainer = $(".scroll-buttons");
    var scrollButtons = $(".scroll-button");
    var bottomLink = $(".bottomLink");
    var currentPos = $(window).scrollTop();
    carouselItem.last().addClass("last");
    function clickButtons() {
        carouselItem.each(function(index, value) {
            var newLink = $('<li id="section-' + (index + 1) + '" class="scroll-button"></li>');
            carouselItem.eq(index).addClass("section-" + (index + 1));
            newLink.on("click", function() {
                var buttonID = $(this).attr("id");
                $("body .carousel-item").removeClass("carousel-current");
                $("body").find("." + buttonID).addClass("carousel-current");
                $("html, body").animate({
                    scrollTop: $("." + buttonID).offset().top
                }, 1e3);
            });
            scrollButtonsContainer.append(newLink);
            scrollButtonsContainer.find("li").first().addClass("activeLink");
            carouselItem.eq(0).addClass("carousel-current");
        });
    }
    function scrollAction() {
        $(window).scroll(function(event) {});
    }
    function handleArrowNavigation() {
        $(".bottomLink").on("click", function() {
            var currentSlideIndex = $(".wrapper .carousel-item.carousel-current").index(), section = ".section-" + (currentSlideIndex + 2);
            console.log(section);
            $("html, body").animate({
                scrollTop: $(section).offset().top
            }, 1e3);
        });
    }
    function changeNavigationColour() {
        var colourElements = $(".scroll-buttons, .bottomLink");
        if ($(".carousel-item.carousel-current").hasClass("dark")) {
            colourElements.addClass("dark");
        } else {
            colourElements.removeClass("dark");
        }
    }
    function setCurrentSlide() {
        $(".carousel-item").each(function() {
            var bottom_of_object = $(this).offset().top + $(this).outerHeight(), bottom_of_window = $(window).scrollTop() + $(window).height() + $(window).height() / 2, verticalMenuItem = $(".scroll-buttons li");
            if (bottom_of_window > bottom_of_object) {
                $(".carousel-item").removeClass("carousel-current");
                $(this).addClass("carousel-current");
                if ($(this).hasClass("carousel-current")) {
                    verticalMenuItem.removeClass("activeLink");
                    verticalMenuItem.eq($(".wrapper .carousel-item.carousel-current").index()).addClass("activeLink");
                }
                if ($(".carousel-current").hasClass("last")) {
                    $(".bottomLink").addClass("hide");
                } else {
                    $(".bottomLink").removeClass("hide");
                }
            }
        });
    }
    function visbleOnScroll() {
        $(".animate, .animate-left, .animate-opacity, .animate-right").each(function() {
            $(".carousel-item").removeClass("visible");
            var bottom_of_object = $(this).offset().top + $(this).outerHeight(), bottom_of_window = $(window).scrollTop() + $(window).height() + $(window).height() / 4;
            if (bottom_of_window > bottom_of_object) {
                $(this).addClass("visible");
            }
            if ($(window).scrollTop() + $(window).height() === $(document).height()) {
                completedVisible = 1;
            }
        });
    }
    $(document).ready(function() {
        clickButtons();
        scrollAction();
        changeNavigationColour();
        visbleOnScroll();
        setCurrentSlide();
        handleArrowNavigation();
    });
    $(window).scroll(function() {
        setCurrentSlide();
        changeNavigationColour();
        if (completedVisible === 0) {
            visbleOnScroll();
        }
    });
})(jQuery);

$(document).ready(function() {
    if ($(".homeSlideInit").length) {
        $(".homeSlideInit").slick({
            dots: true,
            arrows: true
        });
    }
});

window.onload = function() {
    "use strict";
    var supports = !!document.querySelector && !!window.addEventListener;
    if (!supports) {
        return;
    }
    document.body.className += " has-modern-js";
    $(document).ready(function() {
        var config1 = {
            profile: {
                screenName: "ChartwellsInd"
            },
            domId: "twitter",
            maxTweets: 4,
            enableLinks: true,
            showImages: true,
            customCallback: handleTweets
        };
        function handleTweets(tweets) {
            var x = tweets.length;
            var n = 0;
            var element = document.getElementById("twitter");
            var html = "<ul>";
            while (n < x) {
                html += "<li>" + tweets[n] + "</li>";
                n++;
            }
            html += "</ul>";
            element.innerHTML = html;
            myStyles();
        }
        function myStyles() {
            $("#twitter li").each(function(i) {
                var imgSrc = $(this).find(".media img").attr("src");
                var img = $(this).find(".media img");
                var tweetText = $(this).find(".tweet").text();
                if (img.length > 0) {
                    $(this).replaceWith('<li class="grid-item grid-quarter-responsive"><div class="grid-item__inner block--partial block--tweet"><a href="https://twitter.com/ChartwellsInd" class="btn--overlay"></a><div class="block__background block--img" style="background-image: url(' + imgSrc + ')"></div><div class="block__content-partial"><a href="https://twitter.com/ChartwellsInd"><p class="tweet">' + tweetText + "</p></a></div></div></li>");
                } else {
                    $(this).replaceWith('<li class="grid-item grid-quarter-responsive"><div class="grid-item__inner block--partial block--tweet"><a href="https://twitter.com/ChartwellsInd" class="btn--overlay"></a><div class="block__background block--img" style="background-image: url(' + "/assets/img/logos/twitter_default.jpg" + ')"></div><div class="block__content-partial"><a href="https://twitter.com/ChartwellsInd"><p class="tweet">' + tweetText + "</p></a></div></div></li>");
                }
            });
        }
        if (document.getElementById("twitter")) {
            twitterFetcher.fetch(config1);
        }
        $("#js-brg").click(function(event) {
            event.preventDefault();
            if ($("body").hasClass("is-menu-expanded")) {
                $("body").removeClass("is-menu-expanded");
            } else {
                $("body").addClass("is-menu-expanded");
                $("body").removeClass("is-login-expanded");
            }
        });
        var body = $("body");
        $(window).scroll(function() {
            var scroll = $(window).scrollTop();
            if (scroll >= 50) {
                body.addClass("is-scrolled");
            } else {
                body.removeClass("is-scrolled");
            }
        });
    });
};